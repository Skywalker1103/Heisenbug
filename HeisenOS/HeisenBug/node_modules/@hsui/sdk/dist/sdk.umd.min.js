!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).sdk={})}(this,(function(e){"use strict";var t={INVALID_KEY:"invalid ${ key }",INVALID_PARAMETERS:"invalid parameters",INVALID_REQUEST:"invalid request",INVALID_SDK_CALL:"invalid sdk call ${ method }",NOT_FOUND:"${ key } not found",UNKNOWN_ERROR:"unknown error"};function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"UNKNOWN_ERROR",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.hasOwnProperty(e)?n(t[e])(r):n(t.UNKNOWN_ERROR)(r)}function n(e){return function(t){return Object.keys(t).forEach((function(r){e=e.replace("${ "+r+" }",t[r])})),e}}function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(e){var t=o(e);return null!=e&&("object"==t||"function"==t)}function i(e){if("object"!==o(e)||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function s(){return u()?"ucf":"web"}function u(){return!(!navigator||!/ucf/.test(navigator.userAgent.toLowerCase()))&&!!window.usdk}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var l=Array.isArray;function p(e,t,r){return function(e){for(var t=1;arguments.length>t;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({error_code:e,error_message:l(t)&&t.length?t[0]:t},i(r)?r:{})}var d={type:"object",properties:{url:{type:"string",required:!0},method:{type:"string",enum:["get","post"]},data:{type:["string","number","object"]},timeout:{type:"number"},headers:{type:"object"}}},h={type:"object",properties:{key:{type:"string",required:!0},value:{type:["string","number","object"]},scope:{type:"string"}}};function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);t>r;r++)n[r]=e[r];return n}function y(e,t){if(e){if("string"==typeof e)return v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?v(e,t):void 0}}function m(e){if("string"==typeof e){if(""===(e=e.split("/"))[0])return e.slice(1);throw Error("Invalid JSON pointer.")}if(Array.isArray(e)){var t,r=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=y(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return e.length>n?{done:!1,value:e[n++]}:{done:!0}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(s)throw a}}}}(e);try{for(r.s();!(t=r.n()).done;){var n=t.value;if("string"!=typeof n&&"number"!=typeof n)throw Error("Invalid JSON pointer. Must be of type string or number.")}}catch(e){r.e(e)}finally{r.f()}return e}throw Error("Invalid JSON pointer.")}var b={get:function(e,t){if("object"!==o(e))throw Error("Invalid input object.");var r=(t=m(t)).length;if(0===r)return e;for(var n=0;r>n;){if(e=e[t[n++]],r===n)return e;if("object"!==o(e)||null===e)return}}};function g(e,t){return"string"==typeof e&&(e=JSON.parse(e)),function(e,t){return function t(r){t.errors=null;var n=[];if("object"===e.type){var a=o(r);if("object"===a&&(a=Array.isArray(r)?"array":"object"),"object"!==a)n.push({field:"data",message:"is the wrong type",schemaPath:[],type:"object",value:r});else for(var i=Object.keys(e.properties),s=0;i.length>s;s++){var u=e.properties[i[s]],c=u.type,f=u.enum;if(!0!==u.required||r.hasOwnProperty(i[s])){if(c&&r.hasOwnProperty(i[s])){var l=o(r[i[s]]);if("object"===l&&(l=Array.isArray(r[i[s]])?"array":"object"),"undefined"!==l&&c!==l&&-1===c.indexOf(l)){n.push({field:i[s],message:"is the wrong type",schemaPath:["properties",i[s]],type:c,value:r[i[s]]});continue}}f&&r.hasOwnProperty(i[s])&&-1===f.indexOf(r[i[s]])&&n.push({field:i[s],message:"must be an enum value",schemaPath:["properties",i[s]],type:c,value:r[i[s]]})}else n.push({field:i[s],message:"is required",schemaPath:["properties",i[s]],type:c,value:void 0})}}n.length>0&&(t.errors=n)}}(e)}function w(e,t){var r=g(e);r(t);var n=r.errors;return n&&(n=n.map((function(t){var r=t.message,n=t.type,o=t.schemaPath,a=t.field.replace("data.","");if(Array.isArray(n)&&(n=n.join()),"is required"===r)return"".concat(a," is required");if("is the wrong type"===r)return"".concat(a," is the wrong type, expect ").concat(n);if("must be an enum value"===r){var i=b.get(e,o.concat("enum")).join();return"".concat(a," must be one of ").concat(i)}return r}))),n}function x(){
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */
x=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",s=n.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function c(e,t,r,n){var o=Object.create((t&&t.prototype instanceof p?t:p).prototype),a=new D(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return k()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var s=O(i,r);if(s){if(s===l)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=f(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(e,r,a),o}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var l={};function p(){}function d(){}function h(){}var v={};u(v,a,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(j([])));m&&m!==t&&r.call(m,a)&&(v=m);var b=h.prototype=p.prototype=Object.create(v);function g(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(a,i,s,u){var c=f(e[a],e,i);if("throw"!==c.type){var l=c.arg,p=l.value;return p&&"object"==o(p)&&r.call(p,"__await")?t.resolve(p.__await).then((function(e){n("next",e,s,u)}),(function(e){n("throw",e,s,u)})):t.resolve(p).then((function(e){l.value=e,s(l)}),(function(e){return n("throw",e,s,u)}))}u(c.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return a=a?a.then(o,o):o()}}function O(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=f(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,l;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function D(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function j(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:k}}function k(){return{value:void 0,done:!0}}return d.prototype=h,u(b,"constructor",h),u(h,"constructor",d),d.displayName=u(h,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,u(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},g(w.prototype),u(w.prototype,i,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new w(c(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(b),u(b,s,"Generator"),u(b,a,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=j,D.prototype={constructor:D,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(this.prev>=a.tryLoc){var s=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(s&&u){if(a.catchLoc>this.prev)return n(a.catchLoc,!0);if(a.finallyLoc>this.prev)return n(a.finallyLoc)}else if(s){if(a.catchLoc>this.prev)return n(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(a.finallyLoc>this.prev)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(this.prev>=o.tryLoc&&r.call(o,"finallyLoc")&&o.finallyLoc>this.prev){var a=o;break}}a&&("break"===e||"continue"===e)&&t>=a.tryLoc&&a.finallyLoc>=t&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),S(r),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:j(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},e}function O(e,t,r,n,o,a,i){try{var s=e[a](i),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,o)}function E(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){O(a,n,o,i,s,"next",e)}function s(e){O(a,n,o,i,s,"throw",e)}i(void 0)}))}}function S(){return(S=E(x().mark((function e(t){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,n){var o=w(d,t);if(o)throw p("-1",o);var a=t.method,s=t.data,u=t.timeout,c=t.headers,f={url:t.url,method:void 0===a?"post":a,data:void 0===s?{}:s,timeout:void 0===u?5e3:u,headers:void 0===c?{}:c};try{usdk.sendAsync(f,(function(o){if(o){var a=JSON.parse(o),s=a.data,u=a.info;if(u){var c=u.error_code,l=u.error_message;if(0==c)if(s){s=JSON.parse(s);var d={};t.forceWrappedInData?d.data=s:d=s,i(d)&&t.includeRequestConfig&&(d.config=f),e(d)}else n(p("-1",r("INVALID_KEY",{key:"data"})));else n(p(c,l))}else n(p("-1",r("INVALID_KEY",{key:"info"})))}else n(p("-1",r("INVALID_SDK_CALL",{method:"sendAsync"})))}))}catch(e){n(p("-1",r("INVALID_SDK_CALL",{method:"sendAsync"})))}}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var D,j={setData:function(e){return E(x().mark((function t(){return x().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(t,n){var o=w(h,e);if(o)throw p("-1",o);var a=e.key,i=e.value,s=e.scope;try{usdk.writeData({key:a,value:i,scope:s},(function(e){if(e){e=JSON.parse(e);var o=e.info;if(o){var a=o.error_code,i=o.error_message;0==a?t():n(p(a,i))}else n(p("-1",r("INVALID_KEY",{key:"info"})))}else n(p("-1",r("INVALID_SDK_CALL",{method:"writeData"})))}))}catch(e){n(p("-1",r("INVALID_SDK_CALL",{method:"writeData"})))}}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()},getData:function(e){return E(x().mark((function t(){return x().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(t,n){var o=w(h,e);if(o)throw p("-1",o);var a=e.key,i=e.scope;try{usdk.readData({key:a,scope:i},(function(e){if(e){e=JSON.parse(e);var o=e.data,a=e.info;if(a){var i=a.error_code,s=a.error_message;if(0==i)if(o){try{o=JSON.parse(o)}catch(e){}t(o)}else n(p("-1",r("INVALID_KEY",{key:"data"})));else n(p(i,s))}else n(p("-1",r("INVALID_KEY",{key:"info"})))}else n(p("-1",r("INVALID_SDK_CALL",{method:"readData"})))}))}catch(e){n(p("-1",r("INVALID_SDK_CALL",{method:"readData"})))}}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()},deleteData:function(e){return E(x().mark((function t(){return x().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(t,n){var o=w(h,e);if(o)throw p("-1",o);var a=e.key,i=e.scope;try{usdk.deleteData({key:a,scope:i},(function(e){if(e){e=JSON.parse(e);var o=e.info;if(o){var a=o.error_code,i=o.error_message;0==a?t():n(p(a,i))}else n(p("-1",r("INVALID_KEY",{key:"info"})))}else n(p("-1",r("INVALID_SDK_CALL",{method:"deleteData"})))}))}catch(e){n(p("-1",r("INVALID_SDK_CALL",{method:"deleteData"})))}}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()}},k=Object.freeze({__proto__:null,setConfig:function(){},ajax:function(e){return S.apply(this,arguments)},storage:j}),I={exports:{}},A=function(e,t){return function(){for(var r=Array(arguments.length),n=0;r.length>n;n++)r[n]=arguments[n];return e.apply(t,r)}},_=A,P=Object.prototype.toString,N=(D=Object.create(null),function(e){var t=P.call(e);return D[t]||(D[t]=t.slice(8,-1).toLowerCase())});function R(e){return e=e.toLowerCase(),function(t){return N(t)===e}}function T(e){return Array.isArray(e)}function C(e){return void 0===e}var L=R("ArrayBuffer");function B(e){return null!==e&&"object"==typeof e}function U(e){if("object"!==N(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}var M=R("Date"),F=R("File"),q=R("Blob"),H=R("FileList");function V(e){return"[object Function]"===P.call(e)}var J=R("URLSearchParams");function K(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),T(e))for(var r=0,n=e.length;n>r;r++)t.call(null,e[r],r,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}var $,W=($="undefined"!=typeof Uint8Array&&Object.getPrototypeOf(Uint8Array),function(e){return $&&e instanceof $}),Y={isArray:T,isArrayBuffer:L,isBuffer:function(e){return null!==e&&!C(e)&&null!==e.constructor&&!C(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){var t="[object FormData]";return e&&("function"==typeof FormData&&e instanceof FormData||P.call(e)===t||V(e.toString)&&""+e===t)},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&L(e.buffer)},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:B,isPlainObject:U,isUndefined:C,isDate:M,isFile:F,isBlob:q,isFunction:V,isStream:function(e){return B(e)&&V(e.pipe)},isURLSearchParams:J,isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:K,merge:function e(){var t={};function r(r,n){t[n]=U(t[n])&&U(r)?e(t[n],r):U(r)?e({},r):T(r)?r.slice():r}for(var n=0,o=arguments.length;o>n;n++)K(arguments[n],r);return t},extend:function(e,t,r){return K(t,(function(t,n){e[n]=r&&"function"==typeof t?_(t,r):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,r,n){e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,r&&Object.assign(e.prototype,r)},toFlatObject:function(e,t,r){var n,o,a,i={};t=t||{};do{for(o=(n=Object.getOwnPropertyNames(e)).length;o-- >0;)i[a=n[o]]||(t[a]=e[a],i[a]=!0);e=Object.getPrototypeOf(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},kindOf:N,kindOfTest:R,endsWith:function(e,t,r){e+="",(void 0===r||r>e.length)&&(r=e.length);var n=e.indexOf(t,r-=t.length);return-1!==n&&n===r},toArray:function(e){if(!e)return null;var t=e.length;if(C(t))return null;for(var r=Array(t);t-- >0;)r[t]=e[t];return r},isTypedArray:W,isFileList:H},z=Y;function G(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var X=function(e,t,r){if(!t)return e;var n;if(r)n=r(t);else if(z.isURLSearchParams(t))n=""+t;else{var o=[];z.forEach(t,(function(e,t){null!=e&&(z.isArray(e)?t+="[]":e=[e],z.forEach(e,(function(e){z.isDate(e)?e=e.toISOString():z.isObject(e)&&(e=JSON.stringify(e)),o.push(G(t)+"="+G(e))})))})),n=o.join("&")}if(n){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+n}return e},Q=Y;function Z(){this.handlers=[]}Z.prototype.use=function(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1},Z.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},Z.prototype.forEach=function(e){Q.forEach(this.handlers,(function(t){null!==t&&e(t)}))};var ee=Z,te=Y,re=Y;function ne(e,t,r,n,o){Error.call(this),this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),o&&(this.response=o)}re.inherits(ne,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var oe=ne.prototype,ae={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach((function(e){ae[e]={value:e}})),Object.defineProperties(ne,ae),Object.defineProperty(oe,"isAxiosError",{value:!0}),ne.from=function(e,t,r,n,o,a){var i=Object.create(oe);return re.toFlatObject(e,i,(function(e){return e!==Error.prototype})),ne.call(i,e.message,t,r,n,o),i.name=e.name,a&&Object.assign(i,a),i};var ie=ne,se={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ue=Y;var ce=function(e,t){t=t||new FormData;var r=[];function n(e){return null===e?"":ue.isDate(e)?e.toISOString():ue.isArrayBuffer(e)||ue.isTypedArray(e)?"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}return function e(o,a){if(ue.isPlainObject(o)||ue.isArray(o)){if(-1!==r.indexOf(o))throw Error("Circular reference detected in "+a);r.push(o),ue.forEach(o,(function(r,o){if(!ue.isUndefined(r)){var i,s=a?a+"."+o:o;if(r&&!a&&"object"==typeof r)if(ue.endsWith(o,"{}"))r=JSON.stringify(r);else if(ue.endsWith(o,"[]")&&(i=ue.toArray(r)))return void i.forEach((function(e){!ue.isUndefined(e)&&t.append(s,n(e))}));e(r,s)}})),r.pop()}else t.append(a,n(o))}(e),t},fe=ie,le=Y,pe=le.isStandardBrowserEnv()?{write:function(e,t,r,n,o,a){var i=[];i.push(e+"="+encodeURIComponent(t)),le.isNumber(r)&&i.push("expires="+new Date(r).toGMTString()),le.isString(n)&&i.push("path="+n),le.isString(o)&&i.push("domain="+o),!0===a&&i.push("secure"),document.cookie=i.join("; ")},read:function(e){var t=document.cookie.match(RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}},de=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)},he=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e},ve=function(e,t){return e&&!de(t)?he(e,t):t},ye=Y,me=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],be=Y,ge=be.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function n(e){var n=e;return t&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=n(window.location.href),function(t){var r=be.isString(t)?n(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return!0},we=ie;function xe(e){we.call(this,null==e?"canceled":e,we.ERR_CANCELED),this.name="CanceledError"}Y.inherits(xe,we,{__CANCEL__:!0});var Oe=xe,Ee=Y,Se=function(e,t,r){var n=r.config.validateStatus;r.status&&n&&!n(r.status)?t(new fe("Request failed with status code "+r.status,[fe.ERR_BAD_REQUEST,fe.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r)):e(r)},De=pe,je=X,ke=ve,Ie=function(e){var t,r,n,o={};return e?(ye.forEach(e.split("\n"),(function(e){if(n=e.indexOf(":"),t=ye.trim(e.substr(0,n)).toLowerCase(),r=ye.trim(e.substr(n+1)),t){if(o[t]&&me.indexOf(t)>=0)return;o[t]="set-cookie"===t?(o[t]?o[t]:[]).concat([r]):o[t]?o[t]+", "+r:r}})),o):o},Ae=ge,_e=se,Pe=ie,Ne=Oe,Re=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""},Te=function(e){return new Promise((function(t,r){var n,o=e.data,a=e.headers,i=e.responseType;function s(){e.cancelToken&&e.cancelToken.unsubscribe(n),e.signal&&e.signal.removeEventListener("abort",n)}Ee.isFormData(o)&&Ee.isStandardBrowserEnv()&&delete a["Content-Type"];var u=new XMLHttpRequest;e.auth&&(a.Authorization="Basic "+btoa((e.auth.username||"")+":"+(e.auth.password?unescape(encodeURIComponent(e.auth.password)):"")));var c=ke(e.baseURL,e.url);function f(){if(u){var n="getAllResponseHeaders"in u?Ie(u.getAllResponseHeaders()):null;Se((function(e){t(e),s()}),(function(e){r(e),s()}),{data:i&&"text"!==i&&"json"!==i?u.response:u.responseText,status:u.status,statusText:u.statusText,headers:n,config:e,request:u}),u=null}}if(u.open(e.method.toUpperCase(),je(c,e.params,e.paramsSerializer),!0),u.timeout=e.timeout,"onloadend"in u?u.onloadend=f:u.onreadystatechange=function(){u&&4===u.readyState&&(0!==u.status||u.responseURL&&0===u.responseURL.indexOf("file:"))&&setTimeout(f)},u.onabort=function(){u&&(r(new Pe("Request aborted",Pe.ECONNABORTED,e,u)),u=null)},u.onerror=function(){r(new Pe("Network Error",Pe.ERR_NETWORK,e,u,u)),u=null},u.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),r(new Pe(t,(e.transitional||_e).clarifyTimeoutError?Pe.ETIMEDOUT:Pe.ECONNABORTED,e,u)),u=null},Ee.isStandardBrowserEnv()){var l=(e.withCredentials||Ae(c))&&e.xsrfCookieName?De.read(e.xsrfCookieName):void 0;l&&(a[e.xsrfHeaderName]=l)}"setRequestHeader"in u&&Ee.forEach(a,(function(e,t){void 0===o&&"content-type"===t.toLowerCase()?delete a[t]:u.setRequestHeader(t,e)})),Ee.isUndefined(e.withCredentials)||(u.withCredentials=!!e.withCredentials),i&&"json"!==i&&(u.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&u.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&u.upload&&u.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(n=function(e){u&&(r(!e||e&&e.type?new Ne:e),u.abort(),u=null)},e.cancelToken&&e.cancelToken.subscribe(n),e.signal&&(e.signal.aborted?n():e.signal.addEventListener("abort",n))),o||(o=null);var p=Re(c);p&&-1===["http","https","file"].indexOf(p)?r(new Pe("Unsupported protocol "+p+":",Pe.ERR_BAD_REQUEST,e)):u.send(o)}))},Ce=Y,Le=function(e,t){te.forEach(e,(function(r,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[n])}))},Be=ie,Ue=ce,Me={"Content-Type":"application/x-www-form-urlencoded"};function Fe(e,t){!Ce.isUndefined(e)&&Ce.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var qe={transitional:se,adapter:function(){var e;return("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(e=Te),e}(),transformRequest:[function(e,t){if(Le(t,"Accept"),Le(t,"Content-Type"),Ce.isFormData(e)||Ce.isArrayBuffer(e)||Ce.isBuffer(e)||Ce.isStream(e)||Ce.isFile(e)||Ce.isBlob(e))return e;if(Ce.isArrayBufferView(e))return e.buffer;if(Ce.isURLSearchParams(e))return Fe(t,"application/x-www-form-urlencoded;charset=utf-8"),""+e;var r,n=Ce.isObject(e),o=t&&t["Content-Type"];if((r=Ce.isFileList(e))||n&&"multipart/form-data"===o){var a=this.env&&this.env.FormData;return Ue(r?{"files[]":e}:e,a&&new a)}return n||"application/json"===o?(Fe(t,"application/json"),function(e,t,r){if(Ce.isString(e))try{return(t||JSON.parse)(e),Ce.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(r||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||qe.transitional,r=!(t&&t.silentJSONParsing)&&"json"===this.responseType;if(r||t&&t.forcedJSONParsing&&Ce.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(r){if("SyntaxError"===e.name)throw Be.from(e,Be.ERR_BAD_RESPONSE,this,null,this.response);throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:null},validateStatus:function(e){return e>=200&&300>e},headers:{common:{Accept:"application/json, text/plain, */*"}}};Ce.forEach(["delete","get","head"],(function(e){qe.headers[e]={}})),Ce.forEach(["post","put","patch"],(function(e){qe.headers[e]=Ce.merge(Me)}));var He=qe,Ve=Y,Je=He,Ke=function(e){return!(!e||!e.__CANCEL__)},$e=Y,We=function(e,t,r){var n=this||Je;return Ve.forEach(r,(function(r){e=r.call(n,e,t)})),e},Ye=Ke,ze=He,Ge=Oe;function Xe(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ge}var Qe=Y,Ze=function(e,t){t=t||{};var r={};function n(e,t){return Qe.isPlainObject(e)&&Qe.isPlainObject(t)?Qe.merge(e,t):Qe.isPlainObject(t)?Qe.merge({},t):Qe.isArray(t)?t.slice():t}function o(r){return Qe.isUndefined(t[r])?Qe.isUndefined(e[r])?void 0:n(void 0,e[r]):n(e[r],t[r])}function a(e){if(!Qe.isUndefined(t[e]))return n(void 0,t[e])}function i(r){return Qe.isUndefined(t[r])?Qe.isUndefined(e[r])?void 0:n(void 0,e[r]):n(void 0,t[r])}function s(r){return r in t?n(e[r],t[r]):r in e?n(void 0,e[r]):void 0}var u={url:a,method:a,data:a,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:s};return Qe.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=u[e]||o,n=t(e);Qe.isUndefined(n)&&t!==s||(r[e]=n)})),r},et="0.27.2",tt=et,rt=ie,nt={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){nt[e]=function(r){return typeof r===e||"a"+(1>t?"n ":" ")+e}}));var ot={};nt.transitional=function(e,t,r){function n(e,t){return"[Axios v"+tt+"] Transitional option '"+e+"'"+t+(r?". "+r:"")}return function(r,o,a){if(!1===e)throw new rt(n(o," has been removed"+(t?" in "+t:"")),rt.ERR_DEPRECATED);return t&&!ot[o]&&(ot[o]=!0,console.warn(n(o," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,o,a)}};var at={assertOptions:function(e,t,r){if("object"!=typeof e)throw new rt("options must be an object",rt.ERR_BAD_OPTION_VALUE);for(var n=Object.keys(e),o=n.length;o-- >0;){var a=n[o],i=t[a];if(i){var s=e[a],u=void 0===s||i(s,a,e);if(!0!==u)throw new rt("option "+a+" must be "+u,rt.ERR_BAD_OPTION_VALUE)}else if(!0!==r)throw new rt("Unknown option "+a,rt.ERR_BAD_OPTION)}},validators:nt},it=Y,st=X,ut=ee,ct=function(e){return Xe(e),e.headers=e.headers||{},e.data=We.call(e,e.data,e.headers,e.transformRequest),e.headers=$e.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),$e.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||ze.adapter)(e).then((function(t){return Xe(e),t.data=We.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return Ye(t)||(Xe(e),t&&t.response&&(t.response.data=We.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))},ft=Ze,lt=ve,pt=at,dt=pt.validators;function ht(e){this.defaults=e,this.interceptors={request:new ut,response:new ut}}ht.prototype.request=function(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},(t=ft(this.defaults,t)).method=t.method?t.method.toLowerCase():this.defaults.method?this.defaults.method.toLowerCase():"get";var r=t.transitional;void 0!==r&&pt.assertOptions(r,{silentJSONParsing:dt.transitional(dt.boolean),forcedJSONParsing:dt.transitional(dt.boolean),clarifyTimeoutError:dt.transitional(dt.boolean)},!1);var n=[],o=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,n.unshift(e.fulfilled,e.rejected))}));var a,i=[];if(this.interceptors.response.forEach((function(e){i.push(e.fulfilled,e.rejected)})),!o){var s=[ct,void 0];for(Array.prototype.unshift.apply(s,n),s=s.concat(i),a=Promise.resolve(t);s.length;)a=a.then(s.shift(),s.shift());return a}for(var u=t;n.length;){var c=n.shift(),f=n.shift();try{u=c(u)}catch(e){f(e);break}}try{a=ct(u)}catch(e){return Promise.reject(e)}for(;i.length;)a=a.then(i.shift(),i.shift());return a},ht.prototype.getUri=function(e){e=ft(this.defaults,e);var t=lt(e.baseURL,e.url);return st(t,e.params,e.paramsSerializer)},it.forEach(["delete","get","head","options"],(function(e){ht.prototype[e]=function(t,r){return this.request(ft(r||{},{method:e,url:t,data:(r||{}).data}))}})),it.forEach(["post","put","patch"],(function(e){function t(t){return function(r,n,o){return this.request(ft(o||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:r,data:n}))}}ht.prototype[e]=t(),ht.prototype[e+"Form"]=t(!0)}));var vt=ht,yt=Oe;function mt(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var r=this;this.promise.then((function(e){if(r._listeners){var t,n=r._listeners.length;for(t=0;n>t;t++)r._listeners[t](e);r._listeners=null}})),this.promise.then=function(e){var t,n=new Promise((function(e){r.subscribe(e),t=e})).then(e);return n.cancel=function(){r.unsubscribe(t)},n},e((function(e){r.reason||(r.reason=new yt(e),t(r.reason))}))}mt.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},mt.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},mt.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},mt.source=function(){var e;return{token:new mt((function(t){e=t})),cancel:e}};var bt=mt,gt=Y,wt=Y,xt=A,Ot=vt,Et=Ze;var St=function e(t){var r=new Ot(t),n=xt(Ot.prototype.request,r);return wt.extend(n,Ot.prototype,r),wt.extend(n,r),n.create=function(r){return e(Et(t,r))},n}(He);St.Axios=Ot,St.CanceledError=Oe,St.CancelToken=bt,St.isCancel=Ke,St.VERSION=et,St.toFormData=ce,St.AxiosError=ie,St.Cancel=St.CanceledError,St.all=function(e){return Promise.all(e)},St.spread=function(e){return function(t){return e.apply(null,t)}},St.isAxiosError=function(e){return gt.isObject(e)&&!0===e.isAxiosError},I.exports=St,I.exports.default=St;var Dt,jt=I.exports,kt=new WeakMap;var It=Object.freeze({__proto__:null,ajaxCancelMap:kt,setConfig:function(e){Dt=e.logger},ajax:function(e){var t,n=new Promise((function(n,o){var a=w(d,e);if(a)throw p("-1",a);var s=e.method,u=void 0===s?"post":s,c=e.data,f=void 0===c?{}:c,l=e.timeout,h=e.headers,v=e.withCredentials,y=e.responseType,m={url:e.url,method:u,params:"get"===u?f:{},data:"post"===u?f:{},timeout:void 0===l?5e3:l,headers:void 0===h?{}:h,withCredentials:void 0!==v&&v,responseType:void 0===y?"json":y,cancelToken:new jt.CancelToken((function(e){t=e}))};Dt&&Dt.debug("发送请求 ".concat(m.url," 配置项"),m),jt(m).then((function(t){var r=t.data,o=t.headers,a=t.status,s=t.statusText;Dt&&Dt.debug("请求 ".concat(m.url," 应答头部字段"),o);var u={};e.forceWrappedInData?u.data=r:u=r,i(u)&&(e.includeRequestConfig&&(u.config=m),e.includeResponseHeaders&&(u.headers=o),e.includeResponseStatusInfo&&(u.status=a,u.statusText=s)),n(u)})).catch((function(t){if(jt.isCancel(t))return Dt&&Dt.info("".concat(m.url," 取消请求")),void o(p("-1","".concat(m.url," 取消请求 ")));if(Dt&&Dt.error("请求 ".concat(m.url," 异常")),t.response){var n=t.response,a=n.status,s=n.statusText,u=n.data,c=n.headers;Dt&&Dt.error("请求 ".concat(m.url," 应答头部字段"),c);var f={};return e.forceWrappedInData?f.data=u:f=u,i(f)&&(e.includeRequestConfig&&(f.config=m),e.includeResponseHeaders&&(f.headers=c),e.includeResponseStatusInfo&&(f.status=a,f.statusText=s)),o(p(a,s,f))}t.request?(Dt&&Dt.error(r("INVALID_REQUEST")),o(p("-1",r("INVALID_REQUEST")))):(Dt&&Dt.error(t.message),o(p("-1",t.message)))}))}));return kt.set(n,t),n},storage:{setData:function(e){return E(x().mark((function t(){var r,n,o;return x().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(r=w(h,e))){t.next=4;break}throw Dt&&Dt.error("本地数据写入异常",r),p("-1",r);case 4:return n=e.key,a(o=e.value)&&(o=JSON.stringify(o)),o=""+o,t.prev=7,Dt&&Dt.debug("本地数据写入成功",n),t.abrupt("return",localStorage.setItem(n,o));case 12:throw t.prev=12,t.t0=t.catch(7),Dt&&Dt.error("本地数据写入异常","fail to set local data, value could exceed the quota"),p("-1","fail to set local data, value could exceed the quota");case 16:case"end":return t.stop()}}),t,null,[[7,12]])})))()},getData:function(e){return E(x().mark((function t(){var n,o,a;return x().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=w(h,e))){t.next=4;break}throw Dt&&Dt.debug("本地数据读取异常",n),p("-1",n);case 4:if(o=e.key,!localStorage.hasOwnProperty(o)){t.next=11;break}return a=localStorage.getItem(o),Dt&&Dt.debug("读取本地数据成功",o),t.abrupt("return",a);case 11:throw Dt&&Dt.debug("本地数据读取异常",r("NOT_FOUND",{key:o})),p("-1",r("NOT_FOUND",{key:o}));case 13:case"end":return t.stop()}}),t)})))()},deleteData:function(e){return E(x().mark((function t(){var n,o;return x().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=w(h,e))){t.next=4;break}throw Dt&&Dt.error("本地数据删除异常",n),p("-1",n);case 4:if(o=e.key,!localStorage.hasOwnProperty(o)){t.next=10;break}return Dt&&Dt.debug("删除本地数据成功",o),t.abrupt("return",localStorage.removeItem(o));case 10:throw Dt&&Dt.error("本地数据删除异常",r("NOT_FOUND",{key:o})),p("-1",r("NOT_FOUND",{key:o}));case 12:case"end":return t.stop()}}),t)})))()}}}),At=[11e4,110100,110101,110102,110105,110106,110107,110108,110109,110111,110112,110113,110114,110115,110116,110117,110200,110228,110229,12e4,120100,120101,120102,120103,120104,120105,120106,120110,120111,120112,120113,120114,120115,120116,120117,120118,120200,120225,13e4,130100,130101,130102,130104,130105,130107,130108,130109,130110,130111,130121,130123,130125,130126,130127,130128,130129,130130,130131,130132,130133,130183,130184,130200,130201,130202,130203,130204,130205,130207,130208,130209,130223,130224,130225,130227,130229,130281,130283,130300,130301,130302,130303,130304,130306,130321,130322,130324,130400,130401,130402,130403,130404,130406,130421,130423,130424,130425,130426,130427,130428,130429,130430,130431,130432,130433,130434,130435,130481,130500,130501,130502,130503,130521,130522,130523,130524,130525,130526,130527,130528,130529,130530,130531,130532,130533,130534,130535,130581,130582,130600,130601,130602,130606,130607,130608,130609,130623,130624,130626,130627,130628,130629,130630,130631,130632,130633,130634,130635,130636,130637,130638,130681,130683,130684,130700,130701,130702,130703,130705,130706,130721,130722,130723,130724,130725,130726,130727,130728,130729,130730,130731,130732,130733,130800,130801,130802,130803,130804,130821,130822,130823,130824,130825,130826,130827,130828,130900,130901,130902,130903,130921,130922,130923,130924,130925,130926,130927,130928,130929,130930,130981,130982,130983,130984,131e3,131001,131002,131003,131022,131023,131024,131025,131026,131028,131081,131082,131100,131101,131102,131121,131122,131123,131124,131125,131126,131127,131128,131181,131182,139e3,139001,139002,14e4,140100,140101,140105,140106,140107,140108,140109,140110,140121,140122,140123,140181,140200,140201,140202,140203,140211,140212,140221,140222,140223,140224,140225,140226,140227,140300,140301,140302,140303,140311,140321,140322,140400,140401,140402,140411,140421,140423,140424,140425,140426,140427,140428,140429,140430,140431,140481,140500,140501,140502,140521,140522,140524,140525,140581,140600,140601,140602,140603,140621,140622,140623,140624,140700,140701,140702,140721,140722,140723,140724,140725,140726,140727,140728,140729,140781,140800,140801,140802,140821,140822,140823,140824,140825,140826,140827,140828,140829,140830,140881,140882,140900,140901,140902,140921,140922,140923,140924,140925,140926,140927,140928,140929,140930,140931,140932,140981,141e3,141001,141002,141021,141022,141023,141024,141025,141026,141027,141028,141029,141030,141031,141032,141033,141034,141081,141082,141100,141101,141102,141121,141122,141123,141124,141125,141126,141127,141128,141129,141130,141181,141182,15e4,150100,150101,150102,150103,150104,150105,150121,150122,150123,150124,150125,150200,150201,150202,150203,150204,150205,150206,150207,150221,150222,150223,150300,150301,150302,150303,150304,150400,150401,150402,150403,150404,150421,150422,150423,150424,150425,150426,150428,150429,150430,150500,150501,150502,150521,150522,150523,150524,150525,150526,150581,150600,150601,150602,150621,150622,150623,150624,150625,150626,150627,150700,150701,150702,150703,150721,150722,150723,150724,150725,150726,150727,150781,150782,150783,150784,150785,150800,150801,150802,150821,150822,150823,150824,150825,150826,150900,150901,150902,150921,150922,150923,150924,150925,150926,150927,150928,150929,150981,152200,152201,152202,152221,152222,152223,152224,152500,152501,152502,152522,152523,152524,152525,152526,152527,152528,152529,152530,152531,152900,152921,152922,152923,21e4,210100,210101,210102,210103,210104,210105,210106,210111,210112,210113,210114,210122,210123,210124,210181,210200,210201,210202,210203,210204,210211,210212,210213,210224,210281,210282,210283,210300,210301,210302,210303,210304,210311,210321,210323,210381,210400,210401,210402,210403,210404,210411,210421,210422,210423,210500,210501,210502,210503,210504,210505,210521,210522,210600,210601,210602,210603,210604,210624,210681,210682,210700,210701,210702,210703,210711,210726,210727,210781,210782,210800,210801,210802,210803,210804,210811,210881,210882,210900,210901,210902,210903,210904,210905,210911,210921,210922,211e3,211001,211002,211003,211004,211005,211011,211021,211081,211100,211101,211102,211103,211121,211122,211200,211201,211202,211204,211221,211223,211224,211281,211282,211300,211301,211302,211303,211321,211322,211324,211381,211382,211400,211401,211402,211403,211404,211421,211422,211481,22e4,220100,220101,220102,220103,220104,220105,220106,220112,220113,220122,220182,220183,220200,220201,220202,220203,220204,220211,220221,220281,220282,220283,220284,220300,220301,220302,220303,220322,220323,220381,220382,220400,220401,220402,220403,220421,220422,220500,220501,220502,220503,220521,220523,220524,220581,220582,220600,220601,220602,220605,220621,220622,220623,220681,220700,220701,220702,220721,220722,220723,220781,220800,220801,220802,220821,220822,220881,220882,222400,222401,222402,222403,222404,222405,222406,222424,222426,23e4,230100,230101,230102,230103,230104,230108,230109,230110,230111,230112,230113,230123,230124,230125,230126,230127,230128,230129,230183,230184,230200,230201,230202,230203,230204,230205,230206,230207,230208,230221,230223,230224,230225,230227,230229,230230,230231,230281,230300,230301,230302,230303,230304,230305,230306,230307,230321,230381,230382,230400,230401,230402,230403,230404,230405,230406,230407,230421,230422,230500,230501,230502,230503,230505,230506,230521,230522,230523,230524,230600,230601,230602,230603,230604,230605,230606,230621,230622,230623,230624,230700,230701,230702,230703,230704,230705,230706,230707,230708,230709,230710,230711,230712,230713,230714,230715,230716,230722,230781,230800,230801,230803,230804,230805,230811,230822,230826,230828,230833,230881,230882,230900,230901,230902,230903,230904,230921,231e3,231001,231002,231003,231004,231005,231024,231025,231081,231083,231084,231085,231100,231101,231102,231121,231123,231124,231181,231182,231200,231201,231202,231221,231222,231223,231224,231225,231226,231281,231282,231283,232700,232721,232722,232723,31e4,310100,310101,310104,310105,310106,310107,310108,310109,310110,310112,310113,310114,310115,310116,310117,310118,310120,310200,310230,32e4,320100,320101,320102,320104,320105,320106,320111,320113,320114,320115,320116,320117,320118,320200,320201,320202,320203,320204,320205,320206,320211,320281,320282,320300,320301,320302,320303,320305,320311,320312,320321,320322,320324,320381,320382,320400,320401,320402,320404,320411,320412,320413,320481,320500,320501,320505,320506,320507,320508,320509,320581,320582,320583,320585,320600,320601,320602,320611,320612,320621,320623,320681,320682,320684,320700,320701,320703,320706,320707,320722,320723,320724,320800,320801,320802,320803,320804,320811,320826,320829,320830,320831,320900,320901,320902,320903,320904,320921,320922,320923,320924,320925,320981,321e3,321001,321002,321003,321012,321023,321081,321084,321100,321101,321102,321111,321112,321181,321182,321183,321200,321201,321202,321203,321204,321281,321282,321283,321300,321301,321302,321311,321322,321323,321324,33e4,330100,330101,330102,330103,330104,330105,330106,330108,330109,330110,330111,330122,330127,330182,330185,330200,330201,330203,330204,330205,330206,330211,330212,330225,330226,330281,330282,330283,330300,330301,330302,330303,330304,330305,330324,330326,330327,330328,330329,330381,330382,330400,330401,330402,330411,330421,330424,330481,330482,330483,330500,330501,330502,330503,330521,330522,330523,330600,330601,330602,330603,330604,330624,330681,330683,330700,330701,330702,330703,330723,330726,330727,330781,330782,330783,330784,330800,330801,330802,330803,330822,330824,330825,330881,330900,330901,330902,330903,330921,330922,331e3,331001,331002,331003,331004,331021,331022,331023,331024,331081,331082,331100,331101,331102,331121,331122,331123,331124,331125,331126,331127,331181,34e4,340100,340101,340102,340103,340104,340111,340121,340122,340123,340124,340181,340200,340201,340202,340203,340207,340208,340221,340222,340223,340225,340300,340301,340302,340303,340304,340311,340321,340322,340323,340400,340401,340402,340403,340404,340405,340406,340421,340500,340501,340503,340504,340506,340521,340522,340523,340600,340601,340602,340603,340604,340621,340700,340701,340702,340703,340711,340721,340800,340801,340802,340803,340811,340822,340823,340824,340825,340826,340827,340828,340881,341e3,341001,341002,341003,341004,341021,341022,341023,341024,341100,341101,341102,341103,341122,341124,341125,341126,341181,341182,341200,341201,341202,341203,341204,341221,341222,341225,341226,341282,341300,341301,341302,341321,341322,341323,341324,341500,341501,341502,341503,341521,341522,341523,341524,341525,341600,341601,341602,341621,341622,341623,341700,341701,341702,341721,341722,341723,341800,341801,341802,341821,341822,341823,341824,341825,341881,35e4,350100,350101,350102,350103,350104,350105,350111,350121,350122,350123,350124,350125,350128,350181,350182,350200,350201,350203,350205,350206,350211,350212,350213,350300,350301,350302,350303,350304,350305,350322,350400,350401,350402,350403,350421,350423,350424,350425,350426,350427,350428,350429,350430,350481,350500,350501,350502,350503,350504,350505,350521,350524,350525,350526,350527,350581,350582,350583,350600,350601,350602,350603,350622,350623,350624,350625,350626,350627,350628,350629,350681,350700,350701,350702,350703,350721,350722,350723,350724,350725,350781,350782,350783,350800,350801,350802,350803,350821,350823,350824,350825,350881,350900,350901,350902,350921,350922,350923,350924,350925,350926,350981,350982,36e4,360100,360101,360102,360103,360104,360105,360111,360112,360121,360123,360124,360200,360201,360202,360203,360222,360281,360300,360301,360302,360313,360321,360322,360323,360400,360401,360402,360403,360421,360423,360424,360425,360426,360427,360428,360429,360430,360481,360482,360500,360501,360502,360521,360600,360601,360602,360622,360681,360700,360701,360702,360703,360721,360722,360723,360724,360725,360726,360727,360728,360729,360730,360731,360732,360733,360734,360735,360781,360800,360801,360802,360803,360821,360822,360823,360824,360825,360826,360827,360828,360829,360830,360881,360900,360901,360902,360921,360922,360923,360924,360925,360926,360981,360982,360983,361e3,361001,361002,361021,361022,361023,361024,361025,361026,361027,361028,361029,361030,361100,361101,361102,361103,361121,361123,361124,361125,361126,361127,361128,361129,361130,361181,37e4,370100,370101,370102,370103,370104,370105,370112,370113,370124,370125,370126,370181,370200,370201,370202,370203,370211,370212,370213,370214,370281,370282,370283,370285,370300,370301,370302,370303,370304,370305,370306,370321,370322,370323,370400,370401,370402,370403,370404,370405,370406,370481,370500,370501,370502,370503,370521,370522,370523,370600,370601,370602,370611,370612,370613,370634,370681,370682,370683,370684,370685,370686,370687,370700,370701,370702,370703,370704,370705,370724,370725,370781,370782,370783,370784,370785,370786,370800,370801,370811,370812,370826,370827,370828,370829,370830,370831,370832,370881,370883,370900,370901,370902,370911,370921,370923,370982,370983,371e3,371001,371002,371003,371082,371083,371100,371101,371102,371103,371121,371122,371200,371201,371202,371203,371300,371301,371302,371311,371312,371321,371322,371323,371324,371325,371326,371327,371328,371329,371400,371401,371402,371403,371422,371423,371424,371425,371426,371427,371428,371481,371482,371500,371501,371502,371521,371522,371523,371524,371525,371526,371581,371600,371601,371602,371603,371621,371622,371623,371625,371626,371700,371701,371702,371721,371722,371723,371724,371725,371726,371727,371728,41e4,410100,410101,410102,410103,410104,410105,410106,410108,410122,410181,410182,410183,410184,410185,410200,410201,410202,410203,410204,410205,410211,410212,410221,410222,410223,410225,410300,410301,410302,410303,410304,410305,410306,410311,410322,410323,410324,410325,410326,410327,410328,410329,410381,410400,410401,410402,410403,410404,410411,410421,410422,410423,410425,410481,410482,410500,410501,410502,410503,410505,410506,410522,410523,410526,410527,410581,410600,410601,410602,410603,410611,410621,410622,410700,410701,410702,410703,410704,410711,410721,410724,410725,410726,410727,410728,410781,410782,410800,410801,410802,410803,410804,410811,410821,410822,410823,410825,410882,410883,410900,410901,410902,410922,410923,410926,410927,410928,411e3,411001,411002,411023,411024,411025,411081,411082,411100,411101,411102,411103,411104,411121,411122,411200,411201,411202,411221,411222,411224,411281,411282,411300,411301,411302,411303,411321,411322,411323,411324,411325,411326,411327,411328,411329,411330,411381,411400,411401,411402,411403,411421,411422,411423,411424,411425,411426,411481,411500,411501,411502,411503,411521,411522,411523,411524,411525,411526,411527,411528,411600,411601,411602,411621,411622,411623,411624,411625,411626,411627,411628,411681,411700,411701,411702,411721,411722,411723,411724,411725,411726,411727,411728,411729,419e3,419001,42e4,420100,420101,420102,420103,420104,420105,420106,420107,420111,420112,420113,420114,420115,420116,420117,420200,420201,420202,420203,420204,420205,420222,420281,420300,420301,420302,420303,420304,420322,420323,420324,420325,420381,420500,420501,420502,420503,420504,420505,420506,420525,420526,420527,420528,420529,420581,420582,420583,420600,420601,420602,420606,420607,420624,420625,420626,420682,420683,420684,420700,420701,420702,420703,420704,420800,420801,420802,420804,420821,420822,420881,420900,420901,420902,420921,420922,420923,420981,420982,420984,421e3,421001,421002,421003,421022,421023,421024,421081,421083,421087,421100,421101,421102,421121,421122,421123,421124,421125,421126,421127,421181,421182,421200,421201,421202,421221,421222,421223,421224,421281,421300,421301,421303,421321,421381,422800,422801,422802,422822,422823,422825,422826,422827,422828,429e3,429004,429005,429006,429021,43e4,430100,430101,430102,430103,430104,430105,430111,430112,430121,430124,430181,430200,430201,430202,430203,430204,430211,430221,430223,430224,430225,430281,430300,430301,430302,430304,430321,430381,430382,430400,430401,430405,430406,430407,430408,430412,430421,430422,430423,430424,430426,430481,430482,430500,430501,430502,430503,430511,430521,430522,430523,430524,430525,430527,430528,430529,430581,430600,430601,430602,430603,430611,430621,430623,430624,430626,430681,430682,430700,430701,430702,430703,430721,430722,430723,430724,430725,430726,430781,430800,430801,430802,430811,430821,430822,430900,430901,430902,430903,430921,430922,430923,430981,431e3,431001,431002,431003,431021,431022,431023,431024,431025,431026,431027,431028,431081,431100,431101,431102,431103,431121,431122,431123,431124,431125,431126,431127,431128,431129,431200,431201,431202,431221,431222,431223,431224,431225,431226,431227,431228,431229,431230,431281,431300,431301,431302,431321,431322,431381,431382,433100,433101,433122,433123,433124,433125,433126,433127,433130,44e4,440100,440101,440103,440104,440105,440106,440111,440112,440113,440114,440115,440117,440118,440200,440201,440203,440204,440205,440222,440224,440229,440232,440233,440281,440282,440300,440301,440303,440304,440305,440306,440307,440308,440400,440401,440402,440403,440404,440500,440501,440507,440511,440512,440513,440514,440515,440523,440600,440601,440604,440605,440606,440607,440608,440700,440701,440703,440704,440705,440781,440783,440784,440785,440800,440801,440802,440803,440804,440811,440823,440825,440881,440882,440883,440900,440901,440902,440904,440981,440982,440983,441200,441201,441202,441203,441204,441223,441224,441225,441226,441284,441300,441301,441302,441303,441322,441323,441324,441400,441401,441402,441403,441422,441423,441424,441426,441427,441481,441500,441501,441502,441521,441523,441581,441600,441601,441602,441621,441622,441623,441624,441625,441700,441701,441702,441704,441721,441781,441800,441801,441802,441803,441821,441823,441825,441826,441881,441882,441900,442e3,445100,445101,445102,445103,445122,445200,445201,445202,445203,445222,445224,445281,445300,445301,445302,445303,445321,445322,445381,45e4,450100,450101,450102,450103,450105,450107,450108,450109,450110,450123,450124,450125,450126,450127,450200,450201,450202,450203,450204,450205,450221,450222,450223,450224,450225,450226,450300,450301,450302,450303,450304,450305,450311,450312,450321,450323,450324,450325,450326,450327,450328,450329,450330,450331,450332,450400,450401,450403,450405,450406,450421,450422,450423,450481,450500,450501,450502,450503,450512,450521,450600,450601,450602,450603,450621,450681,450700,450701,450702,450703,450721,450722,450800,450801,450802,450803,450804,450821,450881,450900,450901,450902,450903,450921,450922,450923,450924,450981,451e3,451001,451002,451021,451022,451023,451024,451026,451027,451028,451029,451030,451031,451081,451100,451101,451102,451121,451122,451123,451200,451201,451202,451221,451222,451223,451224,451225,451226,451227,451228,451229,451281,451300,451301,451302,451321,451322,451323,451324,451381,451400,451401,451402,451421,451422,451423,451424,451425,451481,46e4,460100,460101,460105,460106,460107,460108,460200,460201,460202,460203,460204,460205,460300,460321,460322,460323,469e3,469001,469002,469003,469005,469006,469007,469021,469022,469023,469024,469025,469026,469027,469028,469029,469030,5e5,500100,500101,500102,500103,500104,500105,500106,500107,500108,500109,500110,500111,500112,500113,500114,500115,500116,500117,500118,500119,500120,500151,500152,500153,500200,500228,500229,500230,500231,500232,500233,500234,500235,500236,500237,500238,500240,500241,500242,500243,51e4,510100,510101,510104,510105,510106,510107,510108,510112,510113,510114,510115,510121,510122,510124,510129,510131,510132,510181,510182,510183,510184,510300,510301,510302,510303,510304,510311,510321,510322,510400,510401,510402,510403,510411,510421,510422,510500,510501,510502,510503,510504,510521,510522,510524,510525,510600,510601,510603,510623,510626,510681,510682,510683,510700,510701,510703,510704,510722,510723,510724,510725,510726,510727,510781,510800,510801,510802,510811,510812,510821,510822,510823,510824,510900,510901,510903,510904,510921,510922,510923,511e3,511001,511002,511011,511024,511025,511028,511100,511101,511102,511111,511112,511113,511123,511124,511126,511129,511132,511133,511181,511300,511301,511302,511303,511304,511321,511322,511323,511324,511325,511381,511400,511401,511402,511403,511421,511423,511424,511425,511500,511501,511502,511503,511521,511523,511524,511525,511526,511527,511528,511529,511600,511601,511602,511603,511621,511622,511623,511681,511700,511701,511702,511703,511722,511723,511724,511725,511781,511800,511801,511802,511803,511822,511823,511824,511825,511826,511827,511900,511901,511902,511903,511921,511922,511923,512e3,512001,512002,512021,512022,512081,513200,513221,513222,513223,513224,513225,513226,513227,513228,513229,513230,513231,513232,513233,513300,513301,513322,513323,513324,513325,513326,513327,513328,513329,513330,513331,513332,513333,513334,513335,513336,513337,513338,513400,513401,513422,513423,513424,513425,513426,513427,513428,513429,513430,513431,513432,513433,513434,513435,513436,513437,52e4,520100,520101,520102,520103,520111,520112,520113,520115,520121,520122,520123,520181,520200,520201,520203,520221,520222,520300,520301,520302,520303,520321,520322,520323,520324,520325,520326,520327,520328,520329,520330,520381,520382,520400,520401,520402,520403,520422,520423,520424,520425,520500,520501,520502,520521,520522,520523,520524,520525,520526,520527,520600,520601,520602,520603,520621,520622,520623,520624,520625,520626,520627,520628,522300,522301,522322,522323,522324,522325,522326,522327,522328,522600,522601,522622,522623,522624,522625,522626,522627,522628,522629,522630,522631,522632,522633,522634,522635,522636,522700,522701,522702,522722,522723,522725,522726,522727,522728,522729,522730,522731,522732,53e4,530100,530101,530102,530103,530111,530112,530113,530114,530122,530124,530125,530126,530127,530128,530129,530181,530300,530301,530302,530321,530322,530323,530324,530325,530326,530328,530381,530400,530401,530402,530421,530422,530423,530424,530425,530426,530427,530428,530500,530501,530502,530521,530523,530524,530581,530600,530601,530602,530621,530622,530623,530624,530625,530626,530627,530628,530629,530630,530700,530701,530702,530721,530722,530723,530724,530800,530801,530802,530821,530822,530823,530824,530825,530826,530827,530828,530829,530900,530901,530902,530921,530922,530923,530924,530925,530926,530927,532300,532301,532322,532323,532324,532325,532326,532327,532328,532329,532331,532500,532501,532502,532503,532504,532523,532524,532525,532527,532528,532529,532530,532531,532532,532600,532601,532622,532623,532624,532625,532626,532627,532628,532800,532801,532822,532823,532900,532901,532922,532923,532924,532925,532926,532927,532928,532929,532930,532931,532932,533100,533102,533103,533122,533123,533124,533300,533321,533323,533324,533325,533400,533401,533422,533423,54e4,540100,540101,540102,540121,540122,540123,540124,540125,540126,540127,540200,540202,540221,540222,540223,540224,540225,540226,540227,540228,540229,540230,540231,540232,540233,540234,540235,540236,540237,540300,540302,540321,540322,540323,540324,540325,540326,540327,540328,540329,540330,540400,540402,540421,540422,540423,540424,540425,540426,542200,542221,542222,542223,542224,542225,542226,542227,542228,542229,542231,542232,542233,542400,542421,542422,542423,542424,542425,542426,542427,542428,542429,542430,542431,542500,542521,542522,542523,542524,542525,542526,542527,61e4,610100,610101,610102,610103,610104,610111,610112,610113,610114,610115,610116,610117,610122,610124,610125,610200,610201,610202,610203,610204,610222,610300,610301,610302,610303,610304,610322,610323,610324,610326,610327,610328,610329,610330,610331,610400,610401,610402,610403,610404,610422,610423,610424,610425,610426,610427,610428,610429,610430,610431,610481,610500,610501,610502,610521,610522,610523,610524,610525,610526,610527,610528,610581,610582,610600,610601,610602,610621,610622,610623,610624,610625,610626,610627,610628,610629,610630,610631,610632,610700,610701,610702,610721,610722,610723,610724,610725,610726,610727,610728,610729,610730,610800,610801,610802,610821,610822,610823,610824,610825,610826,610827,610828,610829,610830,610831,610900,610901,610902,610921,610922,610923,610924,610925,610926,610927,610928,610929,611e3,611001,611002,611021,611022,611023,611024,611025,611026,62e4,620100,620101,620102,620103,620104,620105,620111,620121,620122,620123,620200,620201,620300,620301,620302,620321,620400,620401,620402,620403,620421,620422,620423,620500,620501,620502,620503,620521,620522,620523,620524,620525,620600,620601,620602,620621,620622,620623,620700,620701,620702,620721,620722,620723,620724,620725,620800,620801,620802,620821,620822,620823,620824,620825,620826,620900,620901,620902,620921,620922,620923,620924,620981,620982,621e3,621001,621002,621021,621022,621023,621024,621025,621026,621027,621100,621101,621102,621121,621122,621123,621124,621125,621126,621200,621201,621202,621221,621222,621223,621224,621225,621226,621227,621228,622900,622901,622921,622922,622923,622924,622925,622926,622927,623e3,623001,623021,623022,623023,623024,623025,623026,623027,63e4,630100,630101,630102,630103,630104,630105,630121,630122,630123,630200,630202,630203,630222,630223,630224,630225,632200,632221,632222,632223,632224,632300,632321,632322,632323,632324,632500,632521,632522,632523,632524,632525,632600,632621,632622,632623,632624,632625,632626,632700,632701,632722,632723,632724,632725,632726,632800,632801,632802,632821,632822,632823,64e4,640100,640101,640104,640105,640106,640121,640122,640181,640200,640201,640202,640205,640221,640300,640301,640302,640303,640323,640324,640381,640400,640401,640402,640422,640423,640424,640425,640500,640501,640502,640521,640522,65e4,650100,650101,650102,650103,650104,650105,650106,650107,650109,650121,650200,650201,650202,650203,650204,650205,650400,650402,650421,650422,652200,652201,652222,652223,652300,652301,652302,652323,652324,652325,652327,652328,652700,652701,652702,652722,652723,652800,652801,652822,652823,652824,652825,652826,652827,652828,652829,652900,652901,652922,652923,652924,652925,652926,652927,652928,652929,653e3,653001,653022,653023,653024,653100,653101,653121,653122,653123,653124,653125,653126,653127,653128,653129,653130,653131,653200,653201,653221,653222,653223,653224,653225,653226,653227,654e3,654002,654003,654004,654021,654022,654023,654024,654025,654026,654027,654028,654200,654201,654202,654221,654223,654224,654225,654226,654300,654301,654321,654322,654323,654324,654325,654326,659e3,659001,659002,659003,659004,71e4,81e4,82e4],_t=function(e,t){return Math.ceil(Math.random()*(t-e)+e)},Pt=function(e){for(var t=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2],r=e.split(""),n=r.length,o=0,a=0;n>a;a++)o+=r[a]*t[a];return["1","0","X","9","8","7","6","5","4","3","2"][o%11]},Nt=Object.freeze({__proto__:null,genIdCard:function(){var e=At[_t(0,At.length-1)],t=function(){var e=(new Date).getFullYear(),t=_t(1900,e)+"",r=_t(0,12);10>r&&(r="0"+r);var n=_t(0,30);return 10>n&&(n="0"+n),t+r+n}(),r=function(){var e=_t(0,99);return 10>e&&(e="0"+e),e}(),n=""+e+t+r+_t(0,9);return n+Pt(n)},checkIdCard:function(e){return!(e[17]!==Pt((e+"").substring(0,17))||!/^[1-9][0-9]{5}([1][9][0-9]{2}|[2][0][0|1][0-9])([0][1-9]|[1][0|1|2])([0][1-9]|[1|2][0-9]|[3][0|1])[0-9]{3}([0-9]|[X])$/.test(e))}});function Rt(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||y(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tt(e,t){for(var r=0;t.length>r;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ct(e,t){return Ct=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ct(e,t)}function Lt(e){return Lt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Lt(e)}function Bt(e,t){if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Ut(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Lt(e);if(t){var o=Lt(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Bt(this,r)}}function Mt(e){return Mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mt(e)}var Ft=Object.assign;function qt(e){return qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qt(e)}function Ht(e){return function(e){if(Array.isArray(e))return Vt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Vt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Vt(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);t>r;r++)n[r]=e[r];return n}function Jt(e,t){for(var r=0;t.length>r;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Kt(n.key),n)}}function Kt(e){var t=function(e,t){if("object"!==qt(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==qt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===qt(t)?t:t+""}var $t=function(){function e(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"HUI";!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.level="info",this.tagName=r,this.levels.forEach((function(e,r){var n,o,a;Ft(t,(n={},a=function(){var t=this,n=window.navigator.userAgent.toLowerCase(),o=null!==n.match(/msie/)||null!==n.match(/trident/),a=this.levels.findIndex((function(e){return e===t.level}));if(!o&&r>=a){for(var i=arguments.length,s=Array(i),u=0;i>u;u++)s[u]=arguments[u];console[e].apply(this,this._handleContent(e,s))}},(o=Kt(o=e))in n?Object.defineProperty(n,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[o]=a,n))}))}var t,r,n;return t=e,(r=[{key:"levels",get:function(){return["trace","debug","info","warn","error"]}},{key:"_handleContent",value:function(e,t){var r=function(e,t){var r=t,n={"M+":e.getMonth()+1,"d+":e.getDate(),"H+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};for(var o in/(y+)/.test(r)&&(r=r.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length))),n)RegExp("("+o+")").test(r)&&(r=r.replace(RegExp.$1,1==RegExp.$1.length?n[o]:("00"+n[o]).substr((n[o]+"").length)));return r}(new Date,"yyyy-MM-dd HH:mm:ss.S"),n=e.toUpperCase(),o="[".concat(this.tagName,"] [").concat(r,"] [").concat(n,"]");return[t.reduce((function(e,t){return function(e){return"[object Number]"===Object.prototype.toString.call(e)}(t)?e+" %d":function(e){var t=Mt(e);return null!==e&&("object"==t||"function"==t)}(t)?e+" %o":e+" %s"}),o)].concat(Ht(t))}},{key:"setLevel",value:function(e){this.levels.includes(e)&&(this.level=e)}}])&&Jt(t.prototype,r),n&&Jt(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();for(var Wt=function(e){var t,r,n=function(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");-1===r&&(r=t);var n=r===t?0:4-r%4;return[r,n]}(e),o=n[0],a=n[1],i=new Xt(function(e,t,r){return 3*(t+r)/4-r}(0,o,a)),s=0,u=a>0?o-4:o;for(r=0;u>r;r+=4)t=Gt[e.charCodeAt(r)]<<18|Gt[e.charCodeAt(r+1)]<<12|Gt[e.charCodeAt(r+2)]<<6|Gt[e.charCodeAt(r+3)],i[s++]=t>>16&255,i[s++]=t>>8&255,i[s++]=255&t;2===a&&(t=Gt[e.charCodeAt(r)]<<2|Gt[e.charCodeAt(r+1)]>>4,i[s++]=255&t);1===a&&(t=Gt[e.charCodeAt(r)]<<10|Gt[e.charCodeAt(r+1)]<<4|Gt[e.charCodeAt(r+2)]>>2,i[s++]=t>>8&255,i[s++]=255&t);return i},Yt=function(e){for(var t,r=e.length,n=r%3,o=[],a=16383,i=0,s=r-n;s>i;i+=a)o.push(er(e,i,i+a>s?s:i+a));1===n?o.push(zt[(t=e[r-1])>>2]+zt[t<<4&63]+"=="):2===n&&o.push(zt[(t=(e[r-2]<<8)+e[r-1])>>10]+zt[t>>4&63]+zt[t<<2&63]+"=");return o.join("")},zt=[],Gt=[],Xt="undefined"!=typeof Uint8Array?Uint8Array:Array,Qt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Zt=0;64>Zt;++Zt)zt[Zt]=Qt[Zt],Gt[Qt.charCodeAt(Zt)]=Zt;function er(e,t,r){for(var n,o=[],a=t;r>a;a+=3)o.push(zt[(n=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]))>>18&63]+zt[n>>12&63]+zt[n>>6&63]+zt[63&n]);return o.join("")}Gt[45]=62,Gt[95]=63;var tr=0,rr=32,nr=16,or=[214,144,233,254,204,225,61,183,22,182,20,194,40,251,44,5,43,103,154,118,42,190,4,195,170,68,19,38,73,134,6,153,156,66,80,244,145,239,152,122,51,84,11,67,237,207,172,98,228,179,28,169,201,8,232,149,128,223,148,250,117,143,63,166,71,7,167,252,243,115,23,186,131,89,60,25,230,133,79,168,104,107,129,178,113,100,218,139,248,235,15,75,112,86,157,53,30,36,14,94,99,88,209,162,37,34,124,59,1,33,120,135,212,0,70,87,159,211,39,82,76,54,2,231,160,196,200,158,234,191,138,210,64,199,56,181,163,247,242,206,249,97,21,161,224,174,93,164,155,52,26,85,173,147,50,48,245,140,177,227,29,246,226,46,130,102,202,96,192,41,35,171,13,83,78,111,213,219,55,69,222,253,142,47,3,255,106,114,109,108,91,81,141,27,175,146,187,221,188,127,17,217,92,65,31,16,90,216,10,193,49,136,165,205,123,189,45,116,208,18,184,229,180,176,137,105,151,74,12,150,119,126,101,185,241,9,197,110,198,132,24,240,125,236,58,220,77,32,121,238,95,62,215,203,57,72],ar=[462357,472066609,943670861,1415275113,1886879365,2358483617,2830087869,3301692121,3773296373,4228057617,404694573,876298825,1347903077,1819507329,2291111581,2762715833,3234320085,3705924337,4177462797,337322537,808926789,1280531041,1752135293,2223739545,2695343797,3166948049,3638552301,4110090761,269950501,741554753,1213159005,1684763257];function ir(e){for(var t=[],r=0,n=e.length;n>r;r++){var o=e.charCodeAt(r);o>127?o>2047?(t.push(224|o>>>12),t.push(128|o>>>6&63),t.push(128|63&o)):(t.push(192|o>>>6),t.push(128|63&o)):t.push(o)}return t}function sr(e,t){return e<<t|e>>>32-t}function ur(e){return(255&or[e>>>24&255])<<24|(255&or[e>>>16&255])<<16|(255&or[e>>>8&255])<<8|255&or[255&e]}function cr(e){return e^sr(e,2)^sr(e,10)^sr(e,18)^sr(e,24)}function fr(e){return e^sr(e,13)^sr(e,23)}function lr(e,t,r){for(var n=[,,,,],o=[,,,,],a=0;4>a;a++)o[0]=255&e[0+4*a],o[1]=255&e[1+4*a],o[2]=255&e[2+4*a],o[3]=255&e[3+4*a],n[a]=o[0]<<24|o[1]<<16|o[2]<<8|o[3];for(var i=0;32>i;i+=4)n[0]^=cr(ur(n[1]^n[2]^n[3]^r[i+0])),n[1]^=cr(ur(n[2]^n[3]^n[0]^r[i+1])),n[2]^=cr(ur(n[3]^n[0]^n[1]^r[i+2])),n[3]^=cr(ur(n[0]^n[1]^n[2]^r[i+3]));for(var s=0;16>s;s+=4)t[s]=n[3-s/4]>>>24&255,t[s+1]=n[3-s/4]>>>16&255,t[s+2]=n[3-s/4]>>>8&255,t[s+3]=255&n[3-s/4]}function pr(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=n.padding,a=void 0===o?"pkcs#5":o,i=n.output,s=void 0===i?"string":i,u=arguments.length>4?arguments[4]:void 0;if("string"==typeof t&&(t=function(e){var t=ir(e);if(16>t.length)for(var r=16-t.length,n=0;r>n;n++)t.push(0);else t=t.slice(0,16);return t}(t)),16!==t.length)throw Error("key should be a 16 bytes string");if(e="string"==typeof e?r!==tr?ir(e):1===u?Wt(e):function(e){for(var t=[],r=0,n=e.length;n>r;r+=2)t.push(parseInt(e.substr(r,2),16));return t}(e):Rt(e),"pkcs#5"===a&&r!==tr)for(var c=nr-e.length%nr,f=0;c>f;f++)e.push(c);var l=Array(rr);!function(e,t,r){for(var n=[,,,,],o=[,,,,],a=0;4>a;a++)o[0]=255&e[0+4*a],o[1]=255&e[1+4*a],o[2]=255&e[2+4*a],o[3]=255&e[3+4*a],n[a]=o[0]<<24|o[1]<<16|o[2]<<8|o[3];n[0]^=2746333894,n[1]^=1453994832,n[2]^=1736282519,n[3]^=2993693404;for(var i=0;32>i;i+=4)t[i+0]=n[0]^=fr(ur(n[1]^n[2]^n[3]^ar[i+0])),t[i+1]=n[1]^=fr(ur(n[2]^n[3]^n[0]^ar[i+1])),t[i+2]=n[2]^=fr(ur(n[3]^n[0]^n[1]^ar[i+2])),t[i+3]=n[3]^=fr(ur(n[0]^n[1]^n[2]^ar[i+3]));if(r===tr)for(var s,u=0;16>u;u++)s=t[u],t[u]=t[31-u],t[31-u]=s}(t,l,r);for(var p=[],d=e.length,h=0;d>=nr;){var v=e.slice(h,h+16),y=Array(16);lr(v,y,l);for(var m=0;nr>m;m++)p[h+m]=y[m];d-=nr,h+=nr}if("pkcs#5"===a&&r===tr){var b=p[p.length-1];p.splice(p.length-b,b)}return"array"!==s?r!==tr?1===u?Yt(p):function(e){return e.map((function(e){return 1===(e=e.toString(16)).length?"0"+e:e})).join("")}(p):function(e){for(var t=[],r=0,n=e.length;n>r;r++)224>e[r]||e[r]>239?192>e[r]||e[r]>223?t.push(String.fromCharCode(e[r])):(t.push(String.fromCharCode(((31&e[r])<<6)+(63&e[r+1]))),r++):(t.push(String.fromCharCode(((15&e[r])<<12)+((63&e[r+1])<<6)+(63&e[r+2]))),r+=2);return t.join("")}(p):p}var dr,hr=function(e,t,r){return pr(e,t,1,r)},vr="20220923huisdk344444",yr=new $t(dr),mr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ct(e,t)}(f,e);var t,r,n,o,a,i,s=Ut(f);function f(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),(e=s.call(this)).sheetname=null,e.enableConsole=!0,e.enableLogIndexDB=!0===t.enableLogIndexDB,e.isUcf=u(),e.maxSheetCount=t.maxSheetCount||15,e.maxSheetItemCount=t.maxSheetItemCount||5e4,e.expiredDays=t.expiredDays||7,e.encryption=!1!==t.encryption,e._indexdb=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,e.isUcf||e._indexdb||yr.debug("当前浏览器不支持 indexedDB,日志采集功能暂停使用。"),e._init(),e}return t=f,r=[{key:"_init",value:(i=E(x().mark((function e(){var t,r=this;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isUcf&&(t=["error","warn","info","debug"],usdk.logger.createLogger("user"),t[usdk.logger.getLogLevel()]&&(this.level=t[usdk.logger.getLogLevel()])),this.levels.forEach((function(e,t){var n=console[e];Object.assign(r,c({},e,(function(){var r=this,o=this.levels.findIndex((function(e){return e===r.level}));if(t>=o){for(var a=arguments.length,i=Array(a),s=0;a>s;s++)i[s]=arguments[s];if(this.isUcf){var u=this.handleContent(i,e);usdk.logger[{debug:"logDebug",info:"logInfo",warn:"logWarn",error:"logError"}[e]]("user",u,br(new Date,"yyyy-MM-dd HH:mm:ss.S"))}else{var c=window.navigator.userAgent.toLowerCase();if(!(null!=c.match(/msie/)||null!=c.match(/trident/))&&this.enableConsole&&n.apply(this,this._handleContent(e,i)),this.enableLogIndexDB&&this._indexdb){var f=this.handleContent(i,e);this.track(f)}}}})))})),this._indexdb&&!this.isUcf){e.next=4;break}return e.abrupt("return");case 4:if(e.prev=4,this.deleteIDBDatabasePromise=this.deleteIndexdbStore(),e.t0=this.deleteIDBDatabasePromise,!e.t0){e.next=10;break}return e.next=10,this.deleteIDBDatabasePromise;case 10:if(this.createDatabaseTablePromise=this.createDatabaseTable("HUI-ET-BASE-INFO"),e.t1=this.createDatabaseTablePromise,!e.t1){e.next=15;break}return e.next=15,this.createDatabaseTablePromise;case 15:e.next=20;break;case 17:e.prev=17,e.t2=e.catch(4),yr.debug("@hsui/tracker 初始化失败",e.t2);case 20:case"end":return e.stop()}}),e,this,[[4,17]])}))),function(){return i.apply(this,arguments)})},{key:"setConfig",value:(a=E(x().mark((function e(){var t,r,n=this,o=arguments;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=["maxSheetItemCount","enableConsole","enableLogIndexDB"],Object.keys(t=o.length>0&&void 0!==o[0]?o[0]:{}).map((function(e){r.includes(e)&&(n[e]=t[e])}));case 4:case"end":return e.stop()}}),e)}))),function(){return a.apply(this,arguments)})},{key:"createDatabaseTable",value:function(e){var t=this;return new Promise(function(){var r=E(x().mark((function r(n,o){var a;return x().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,r.t0=t.deleteIDBDatabasePromise,!r.t0){r.next=5;break}return r.next=5,t.deleteIDBDatabasePromise;case 5:return r.next=7,t.getDatabaseVersion();case 7:r.t1=r.sent,(a=t._indexdb.open("HuiTracker",r.t1+1)).onupgradeneeded=function(t){yr.debug("更新 indexdb 数据库");var r=t.target.result;r.objectStoreNames.contains(e)||r.createObjectStore(e,{keyPath:"id"}).createIndex(e,"timestamp",{unique:!1})},a.onsuccess=function(e){e.target.result.close(),yr.debug("打开 indexdb 数据库成功"),n(!0)},a.onerror=function(e){yr.debug("打开 indexdb 数据库时出错",e),t.sheetname="",o(!1)},r.next=19;break;case 15:r.prev=15,r.t2=r.catch(0),yr.debug("新建 indexdb 表时出错"),o(!1);case 19:case"end":return r.stop()}}),r,null,[[0,15]])})));return function(e,t){return r.apply(this,arguments)}}())}},{key:"track",value:(o=E(x().mark((function e(){var t,r,n,o=this,a=arguments;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.length>0&&void 0!==a[0]?a[0]:"",e.prev=1,e.t0=this.deleteIDBDatabasePromise,!e.t0){e.next=6;break}return e.next=6,this.deleteIDBDatabasePromise;case 6:if(e.t1=this.createDatabaseTablePromise,!e.t1){e.next=10;break}return e.next=10,this.createDatabaseTablePromise;case 10:if(e.t2=this.getItemByIdPromise,!e.t2){e.next=14;break}return e.next=14,this.getItemByIdPromise;case 14:if(this.getItemByIdPromise=this.getItemById("HUI-ET-BASE-INFO","userinfo"),e.t3=this.getItemByIdPromise,!e.t3){e.next=20;break}return e.next=19,this.getItemByIdPromise;case 19:e.t3=e.sent;case 20:this.userId=(r=e.t3)&&r.userId?r.userId:"",(n=this._indexdb.open("HuiTracker")).onsuccess=function(){var e=E(x().mark((function e(r){var n,a,i,s,u;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(yr.debug("打开 indexdb 数据库成功"),gr(Rt((n=r.target.result).objectStoreNames)).forEach((function(e){var t=e.split("-"),r=br(new Date,"yyyyMMdd");t[2]===r&&(!a||a&&parseInt(e.split("-")[3])>parseInt(a.split("-")[3]))&&(a=e)})),!a){e.next=12;break}i=o.sheetname=a,s=n.transaction([o.sheetname],"readwrite").objectStore(o.sheetname),(u=s.count()).onsuccess=function(){var e=E(x().mark((function e(r){var a;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.target.result>=o.maxSheetItemCount){e.next=7;break}(a=s.add({id:wr(),content:t,timestamp:(new Date).getTime(),userId:o.userId?o.userId:""})).onsuccess=function(e){yr.debug("indexdb 插入数据成功"),n.close()},a.onerror=function(e){yr.debug("indexdb 插入数据时出错",e),n.close()},o.sheetname="",e.next=24;break;case 7:if(o.sheetname="HUI-ET-".concat(br(new Date,"yyyyMMdd"))+"-"+(parseInt(i.split("-")[3])+1),e.prev=8,n.close(),e.t0=o.createDatabaseTablePromise,!e.t0){e.next=14;break}return e.next=14,o.createDatabaseTablePromise;case 14:return o.createDatabaseTablePromise=o.createDatabaseTable(o.sheetname),e.next=17,o.createDatabaseTablePromise;case 17:o.track(t),e.next=24;break;case 20:e.prev=20,e.t1=e.catch(8),yr.debug("新建 indexdb 表报错"),n.close();case 24:case"end":return e.stop()}}),e,null,[[8,20]])})));return function(t){return e.apply(this,arguments)}}(),u.onerror=function(e){yr.debug("indexdb 获取表存储数量时出错",e),o.sheetname="",n.close()},e.next=28;break;case 12:if(n.close(),o.sheetname="HUI-ET-".concat(br(new Date,"yyyyMMdd"),"-1"),e.prev=14,e.t0=o.createDatabaseTablePromise,!e.t0){e.next=19;break}return e.next=19,o.createDatabaseTablePromise;case 19:return o.createDatabaseTablePromise=o.createDatabaseTable(o.sheetname),e.next=22,o.createDatabaseTablePromise;case 22:o.track(t),e.next=28;break;case 25:e.prev=25,e.t1=e.catch(14),yr.debug("新建 indexdb 表报错");case 28:case"end":return e.stop()}}),e,null,[[14,25]])})));return function(t){return e.apply(this,arguments)}}(),n.onerror=function(e){yr.debug("打开 indexdb 数据库时出错",e),o.sheetname=null},e.next=32;break;case 27:return e.prev=27,e.t4=e.catch(1),yr.debug("indexdb 埋点时出错，日志未记录",e.t4),this.sheetname=null,e.abrupt("return");case 32:case"end":return e.stop()}}),e,this,[[1,27]])}))),function(){return o.apply(this,arguments)})},{key:"handleContent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",r=br(new Date,"yyyy-MM-dd HH:mm:ss.S"),n=t.toUpperCase(),o=e.reduce((function(e,t){try{return"[object Function]"===Object.prototype.toString.call(t)?"".concat(e," ").concat(""+t):"[object Object]"===Object.prototype.toString.call(t)||"[object Array]"===Object.prototype.toString.call(t)?"".concat(e," ").concat(JSON.stringify(t)):"".concat(e," ").concat(t)}catch(t){return e}}),"");return this.isUcf?o:this.encryption?hr("[".concat(r,"] [").concat(n,"]").concat(o),vr):"[".concat(r,"] [").concat(n,"]").concat(o)}},{key:"openDatabase",value:function(e){var t=e.onsuccess,r=e.onerror,n=this._indexdb.open("HuiTracker");n.onsuccess=t,n.onerror=r}},{key:"getLocalLogs",value:function(e,t,r){var n=this;return new Promise(function(){var o=E(x().mark((function o(a,i){var s,u,c;return x().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(o.prev=0,o.t0=n.deleteIDBDatabasePromise,!o.t0){o.next=5;break}return o.next=5,n.deleteIDBDatabasePromise;case 5:s=[],u=[],c=IDBKeyRange.bound(e,t),n.openDatabase({onsuccess:function(e){var t=e.target.result;u=gr(Rt(t.objectStoreNames)).map(function(){var e=E(x().mark((function e(r){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.getTableBydatetime(r,c,t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Promise.all(u).then((function(e){(s=e.reduce((function(e,t){return t?e.concat(t):e}),[])).forEach((function(e){var t;e.content=n.encryption?pr(e.content,vr,0,t):e.content}));var o=n.filterLogs(s,r);t.close(),a(o)})).catch((function(e){yr.error(e),t.close(),i(!1)}))},onerror:function(e){yr.error("打开 indexdb 数据库时出错",e),i(!1)}}),o.next=14;break;case 10:o.prev=10,o.t1=o.catch(0),yr.error("获取本地 indexdb 日志失败"),i(!1);case 14:case"end":return o.stop()}}),o,null,[[0,10]])})));return function(e,t){return o.apply(this,arguments)}}())}},{key:"filterLogs",value:function(e,t){return e.reduce((function(e,r){return r.userId===t?e.concat(r.content,"\n"):e}),[])}},{key:"putItemById",value:function(e,t){var r=this;return new Promise(function(){var n=E(x().mark((function n(o,a){return x().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=r.deleteIDBDatabasePromise,!n.t0){n.next=5;break}return n.next=5,r.deleteIDBDatabasePromise;case 5:if(n.t1=r.createDatabaseTablePromise,!n.t1){n.next=9;break}return n.next=9,r.createDatabaseTablePromise;case 9:r.openDatabase({onsuccess:function(r){var n=r.target.result;if(n.objectStoreNames.contains(e)){var i=n.transaction([e],"readwrite").objectStore(e).put(t);i.onsuccess=function(e){n.close(),o(!0)},i.onerror=function(e){n.close(),yr.error("indexdb 插入单条记录时出错",e),a(!1)}}else n.close(),a(!1)},onerror:function(e){yr.error("打开 indexdb 数据库时出错",e),a(!1)}}),n.next=15;break;case 12:n.prev=12,n.t2=n.catch(0),a(!1);case 15:case"end":return n.stop()}}),n,null,[[0,12]])})));return function(e,t){return n.apply(this,arguments)}}())}},{key:"getItemById",value:function(e,t){var r=this;return new Promise(function(){var n=E(x().mark((function n(o,a){return x().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=r.deleteIDBDatabasePromise,!n.t0){n.next=5;break}return n.next=5,r.deleteIDBDatabasePromise;case 5:r.openDatabase({onsuccess:function(r){yr.debug("打开 indexdb 数据库成功");var n=r.target.result;if(n.objectStoreNames.contains(e)){var i=n.transaction(e,"readwrite").objectStore(e).get(t);i.onsuccess=function(e){yr.debug(e.target.result),n.close(),o(e.target.result)},i.onerror=function(e){yr.error(e),n.close(),a(!1)}}else n.close(),o(!1)},onerror:function(e){yr.error("打开 indexdb 数据库时出错",e),a(!1)}}),n.next=11;break;case 8:n.prev=8,n.t1=n.catch(0),a(!1);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e,t){return n.apply(this,arguments)}}())}},{key:"getTableBydatetime",value:function(e,t,r){return new Promise((function(n,o){try{var a=[],i=r.transaction([e],"readwrite").objectStore(e).index(e).openCursor(t);i.onsuccess=function(e){var t=e.target.result;t?(a.push(t.value),t.continue()):n(a)},i.onerror=function(e){yr.error(e),o(!1)}}catch(e){yr.error("获取本地日志时报错"),o(!1)}}))}},{key:"deleteIndexdbStore",value:function(){var e=this;return new Promise(function(){var t=E(x().mark((function t(r,n){var o;return x().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getDatabaseVersion();case 2:t.t0=t.sent,(o=e._indexdb.open("HuiTracker",t.t0+1)).onupgradeneeded=function(t){var r,n=t.target.result,o=gr(Rt(n.objectStoreNames)),a=br(new Date((new Date).getTime()-1e3*e.expiredDays*60*60*24),"yyyyMMdd"),i=o.reduce((function(e,t){return parseInt(t.split("-")[2])>parseInt(a)?e.validSheetNames.push(t):e.expiredSheetNames.push(t),e}),{expiredSheetNames:[],validSheetNames:[]}),s=i.validSheetNames.length-e.maxSheetCount,u=[];s>0&&(i.validSheetNames=(r=i.validSheetNames.reduce((function(e,t){var r=parseInt(t.split("-")[2]);return e[r]?(e[r].push(t),e):(e[r]=[t],e)}),{}),Object.keys(r).sort((function(e,t){return t>e?-1:e>t?1:void 0})).reduce((function(e,t){return r[t].sort((function(e,t){return parseInt(e.split("-")[3])<parseInt(t.split("-")[3])?-1:parseInt(e.split("-")[3])>parseInt(t.split("-")[3])?1:void 0})),e.concat(r[t])}),[])),u=i.validSheetNames.splice(0,s)),i.expiredSheetNames=i.expiredSheetNames.concat(u),i.expiredSheetNames.forEach((function(e){n.objectStoreNames.contains(e)&&n.deleteObjectStore(e)}))},o.onsuccess=function(e){e.target.result.close(),r(!0)},o.onerror=function(e){yr.error("打开 indexdb 数据库 HuiTracker 时出错",e),n(!1)};case 8:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}())}},{key:"getDatabaseVersion",value:function(){var e=this;return new Promise((function(t,r){var n=e._indexdb.open("HuiTracker");n.onsuccess=function(e){var r=e.target.result,n=r.version;r.close(),t(n)},n.onerror=function(e){yr.error("打开 indexdb 数据库 HuiTracker 时出错",e),r(e)}}))}}],r&&Tt(t.prototype,r),n&&Tt(t,n),Object.defineProperty(t,"prototype",{writable:!1}),f}($t);function br(e,t){var r={"M+":e.getMonth()+1,"d+":e.getDate(),"H+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};for(var n in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length))),r)RegExp("("+n+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?r[n]:("00"+r[n]).substr((""+r[n]).length)));return t}function gr(e){var t=/^HUI-ET-\d{8}.*/;return e.filter((function(e){return t.test(e)}))}function wr(){var e=Date.now();return"undefined"!=typeof performance&&"function"==typeof performance.now&&(e+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var r=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?r:3&r|8).toString(16)}))}var xr=Dr("setConfig"),Or=Dr("ajax"),Er=kt,Sr=Dr("storage");function Dr(e){return"ucf"===s()?k[e]:"web"===s()?It[e]:void 0}e.LogLevel=mr,e.ajax=Or,e.ajaxCancelMap=Er,e.createLogger=function(){return new mr(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})},e.idCheckSdk=Nt,e.setConfig=xr,e.storage=Sr,Object.defineProperty(e,"__esModule",{value:!0})}));
